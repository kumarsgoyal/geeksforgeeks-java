

//User function Template for Java

/*
Node is as follows:
class Node{
    int data;
    Node left;
    Node right;
    Node(int data){
        this.data = data;
        left=null;
        right=null;
    }
}
*/

class Tree{
    // return the head of the DLL and remove those node from the tree as well.
    Node head = null;
    Node prev = null;

    private boolean convertToDLLUtil(Node root) {
         if(root == null) {
            return false;
        }

        Node left = root.left;
        Node right = root.right;

        boolean lNode = convertToDLLUtil(left);

        if(left == null && right == null) {

            if(prev == null) {
                head = root;
            }
            else {
                prev.right = root;
            }

            root.left = prev;
            root.right = null;
            prev = root;
            return true;
        }

        boolean rNode = convertToDLLUtil(right);

        if(lNode == true) {
            root.left = null;
        }

        if(rNode == true) {
            root.right = null;
        }

        return false;
    }

    public Node convertToDLL(Node root) {
       convertToDLLUtil(root);

       return head;
    }

}